<!DOCTYPE html>
<html>
<head>
  <title>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ</title>
</head>
<body>
  <h1>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –≤ Google Drive</h1>
  <form action="/upload" method="post" enctype="multipart/form-data">
    <label>–í—ã–±–µ—Ä–∏ —Ñ–∞–π–ª:</label>
    <input type="file" name="file" required><br><br>

    <label>–¢–∞—Ä–∏—Ñ:</label>
    <select name="tariff" required>
      <option value="">-- –í—ã–±–µ—Ä–∏ —Ç–∞—Ä–∏—Ñ --</option>
      {% for t in tariffs %}
        <option value="{{ t.name }}">{{ t.name }}</option>
      {% endfor %}
    </select><br><br>

    <label>–õ–æ–∫–∞—Ü–∏—è:</label>
    <select name="location" required>
      <option value="">-- –í—ã–±–µ—Ä–∏ –ª–æ–∫–∞—Ü–∏—é --</option>
      {% for loc in locations %}
        <option value="{{ loc.name }}">{{ loc.name }}</option>
      {% endfor %}
    </select><br><br>

    <label>–¢–∏–ø:</label>
    <select name="subcode" required>
      <option value="">-- –í—ã–±–µ—Ä–∏ —Ç–∏–ø --</option>
      {% for s in subcodes %}
        <option value="{{ s.name }}">{{ s.name }}</option>
      {% endfor %}
    </select><br><br>

    <button type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
  </form>

  <script>
    document.querySelector('form').addEventListener('submit', function (e) {
      const file = document.querySelector('input[name="file"]').files[0];
      const tariff = document.querySelector('select[name="tariff"]').value;
      const location = document.querySelector('select[name="location"]').value;
      const subcode = document.querySelector('select[name="subcode"]').value;

      if (!file || !tariff || !location || !subcode) {
        alert("‚ùó –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª.");
        e.preventDefault();
      }
    });
  </script>

  <hr>
  <a href="/tariffs">üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞–º–∏</a> |
  <a href="/locations">üìç –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏—è–º–∏</a> |
  <a href="/subcodes">üî¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏</a>
</body>
</html>
